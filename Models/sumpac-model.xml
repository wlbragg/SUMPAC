<?xml version="1.0"?>

<!-- SUMPAC Human-Powered Airplane  -->
<!-- Copyright 2014 Marshall Gusman -->

<PropertyList>

    <!-- AC file is courtesy of Industrial Art Studios, www.ind-art.co.uk -->
    <path>Aircraft/SUMPAC/Models/sumpac.ac</path>
    <offsets>
        <x-m>0</x-m>
        <y-m>0</y-m>
        <z-m>0</z-m>
        <scale>0</scale>
        <pitch-deg>0.0</pitch-deg>
    </offsets>

    <!-- ALS volume shadow  -->
    <!--model>
        <path>Effects/shadow/shadow.xml</path>
    </model-->

    <params>
        <gear>
            <front-rollspeed-ms>engines/engine[3]/n1</front-rollspeed-ms>
            <back-rollspeed-ms>engines/engine[3]/n2</back-rollspeed-ms>
        </gear>
    </params>

    <!--  Specularity fix -->
    <animation>
        <type>material</type>
        <object-name>rudder</object-name>
        <object-name>rudder-truss</object-name>
        <object-name>horizontal-stab</object-name>
        <object-name>horizontal-stab-leading-edge</object-name>
        <object-name>horizontal-stab-leading-edge-faces</object-name>
        <object-name>horizontal-stab-midsection-faces</object-name>
        <object-name>horizontal-stab-truss</object-name>
        <object-name>elevator</object-name>
        <object-name>elevator-truss</object-name>
        <object-name>vertical-stab</object-name>
        <object-name>vertical-stab-truss</object-name>
        <object-name>fuselage-truss</object-name>
        <object-name>fuselage</object-name>
        <object-name>front-wheel</object-name>
        <object-name>back-wheel</object-name>
        <object-name>tail-wheel</object-name>
        <object-name>propeller-housing</object-name>
        <object-name>propeller</object-name>
        <object-name>propeller-hub</object-name>
        <object-name>left-aileron</object-name>
        <object-name>wing-left-leading-edge</object-name>
        <object-name>wing-left-leading-edge-faces</object-name>
        <object-name>wing-left-truss</object-name>
        <object-name>wing-left-wheel</object-name>
        <object-name>wing-left</object-name>
        <object-name>right-aileron</object-name>
        <object-name>wing-right-leading-edge</object-name>
        <object-name>wing-right-leading-edge-faces</object-name>
        <object-name>wing-right-truss</object-name>
        <object-name>wing-right-wheel</object-name>
        <object-name>wing-right</object-name>
        <object-name>interior</object-name>
        <shininess>128</shininess>
        <specular>
            <r>1</r>
            <g>1</g>
            <b>1</b>
        </specular>
        <ambient>
            <r>1</r>
            <g>1</g>
            <b>1</b>
        </ambient>
    </animation>

    <!-- exterior effects -->
    <!-- inherits model-combined-deferred -->
    <effect>
        <inherits-from>Aircraft/SUMPAC/Models/Effects/sumpac-exterior</inherits-from>
        <object-name>rudder</object-name>
        <object-name>rudder-truss</object-name>
        <object-name>horizontal-stab</object-name>
        <object-name>horizontal-stab-leading-edge</object-name>
        <object-name>horizontal-stab-leading-edge-faces</object-name>
        <object-name>horizontal-stab-midsection-faces</object-name>
        <object-name>horizontal-stab-truss</object-name>
        <object-name>elevator</object-name>
        <object-name>elevator-truss</object-name>
        <object-name>vertical-stab</object-name>
        <object-name>vertical-stab-truss</object-name>
        <object-name>fuselage-truss</object-name>
        <object-name>fuselage</object-name>
        <object-name>front-wheel</object-name>
        <object-name>back-wheel</object-name>
        <object-name>tail-wheel</object-name>
        <object-name>propeller-housing</object-name>
        <object-name>propeller</object-name>
        <object-name>propeller-hub</object-name>
        <object-name>left-aileron</object-name>
        <object-name>wing-left-leading-edge</object-name>
        <object-name>wing-left-leading-edge-faces</object-name>
        <object-name>wing-left-truss</object-name>
        <object-name>wing-left-wheel</object-name>
        <object-name>wing-left</object-name>
        <object-name>right-aileron</object-name>
        <object-name>wing-right-leading-edge</object-name>
        <object-name>wing-right-leading-edge-faces</object-name>
        <object-name>wing-right-truss</object-name>
        <object-name>wing-right-wheel</object-name>
        <object-name>wing-right</object-name>
        <object-name>interior</object-name>
    </effect>

    <effect>
        <inherits-from>Aircraft/SUMPAC/Models/Effects/sumpac-exterior-glass-reflection</inherits-from>
        <object-name>windscreen-exterior</object-name>
        <object-name>wing-left-plastic</object-name>
        <object-name>wing-right-plastic</object-name>
        <object-name>fuselage-plastic</object-name>
        <object-name>rudder-plastic</object-name>
        <object-name>horizontal-stab-plastic</object-name>
        <object-name>elevator-plastic</object-name>
        <object-name>left-aileron-plastic</object-name>
        <object-name>right-aileron-plastic</object-name>
    </effect>
    <effect>
        <inherits-from>Aircraft/SUMPAC/Models/Effects/sumpac-interior-glass-reflection</inherits-from>
        <object-name>windscreen-interior</object-name>
    </effect>

    <!--effect>
        <inherits-from>Effects/model-transparent</inherits-from>
        <object-name>propeller-fast</object-name>
    </effect-->

    <!-- interior effects -->
    <effect>
        <inherits-from>Aircraft/SUMPAC/Models/Effects/sumpac-interior</inherits-from>
        <object-name>cockpit-interior</object-name>
    </effect>

    <model>
        <path>detailed-mesh.xml</path>
        <offsets>
            <x-m> 0 </x-m>
            <y-m> 0 </y-m>
            <z-m> 0 </z-m>
        </offsets>
        <condition>
            <equals>
                <property>/sim/rendering/high-detail</property>
                <value>1</value>
            </equals>
        </condition>
    </model>

    <!--model>
        <path>interior-mesh.xml</path>
        <offsets>
            <x-m> 0 </x-m>
            <y-m> 0 </y-m>
            <z-m> 0 </z-m>
        </offsets>
        <condition>
            <equals>
                <property>/sim/rendering/high-detail</property>
                <value>1</value>
            </equals>
        </condition>
    </model-->

    <animation>
        <type>select</type>
        <object-name>wing-left-leading-edge</object-name>
        <object-name>wing-right-leading-edge</object-name>
        <condition>
            <equals>
                <property>/sim/rendering/high-detail</property>
                <value>0</value>
            </equals>
        </condition>
    </animation>

    <animation>
        <type>select</type>
        <object-name>wing-left-plastic</object-name>
        <object-name>wing-right-plastic</object-name>
        <object-name>fuselage-plastic</object-name>
        <object-name>rudder-plastic</object-name>
        <object-name>horizontal-stab-plastic</object-name>
        <object-name>elevator-plastic</object-name>
        <object-name>left-aileron-plastic</object-name>
        <object-name>right-aileron-plastic</object-name>
        <condition>
            <property>sim/model/covering</property>
        </condition>
    </animation>

    <animation>
        <type>select</type>
        <object-name>propeller-fast</object-name>
        <condition>
            <greater-than>
                <property>fdm/jsbsim/human-output/electric-motor</property>
                <value>380</value>
            </greater-than>
        </condition>
    </animation>

    <animation>
        <type>select</type>
        <object-name>propeller</object-name>
        <condition>
            <less-than>
                <property>fdm/jsbsim/human-output/electric-motor</property>
                <value>1025</value>
            </less-than>
        </condition>
    </animation>

    <animation>
        <type>blend</type>
        <object-name>propeller-fast</object-name>
        <property>fdm/jsbsim/human-output/electric-motor</property>
        <factor>0.0002</factor>
        <max>1.0</max>
        <min>0.0</min>
    </animation>

  <animation>
  	<object-name>propeller</object-name>
    <object-name>propeller-hub</object-name>
  	<type>spin</type>
    <property>fdm/jsbsim/human-output/electric-motor</property>
    <factor>1</factor>
    <axis>
        <x1-m> 1.68031</x1-m>
        <y1-m> 0.01108</y1-m>
        <z1-m> 2.16518</z1-m>
        <x2-m> 2.02706</x2-m>
        <y2-m> 0.01044</y2-m>
        <z2-m> 2.18583</z2-m>
    </axis>
  </animation>

  <animation>
        <type>spin</type>
        <object-name>front-wheel</object-name>
        <property alias="/params/gear/front-rollspeed-ms"/>
        <factor>10</factor>
        <axis>
            <x> 0</x>
            <y>-1</y>
            <z> 0</z>
        </axis>
        <center>
            <x-m>-0.112</x-m>
            <y-m> 0.0137</y-m>
            <z-m>-0.16941</z-m>
        </center>
  </animation>

  <animation>
        <type>spin</type>
        <object-name>back-wheel</object-name>
        <property alias="/params/gear/back-rollspeed-ms"/>
        <factor>2.87</factor>
        <axis>
            <x> 0</x>
            <y>-1</y>
            <z> 0</z>
        </axis>
        <center>
            <x-m> 0.82337</x-m>
            <y-m>-0.00638</y-m>
            <z-m> 0.07783</z-m>
        </center>
  </animation>

  <animation>
        <type>spin</type>
        <object-name>tail-wheel</object-name>
        <property alias="/params/gear/back-rollspeed-ms"/>
        <factor>25</factor>
        <axis>
            <x> 0</x>
            <y>-1</y>
            <z> 0</z>
        </axis>
        <center>
            <x-m> 5.7156</x-m>
            <y-m>-0.05199</y-m>
            <z-m> 0.37727</z-m>
        </center>
  </animation>

  <animation>
        <type>spin</type>
        <object-name>wing-left-wheel</object-name>
        <property alias="/params/gear/back-rollspeed-ms"/>
        <factor>25</factor>
        <axis>
            <x> 0</x>
            <y>-1</y>
            <z> 0</z>
        </axis>
        <center>
            <x-m> 0.55648</x-m>
            <y-m>-3.17608</y-m>
            <z-m>-0.12146</z-m>
        </center>
  </animation>

  <animation>
        <type>spin</type>
        <object-name>wing-right-wheel</object-name>
        <property alias="/params/gear/back-rollspeed-ms"/>
        <factor>25</factor>
        <axis>
            <x> 0</x>
            <y>-1</y>
            <z> 0</z>
        </axis>
        <center>
            <x-m> 0.57045</x-m>
            <y-m> 3.16383</y-m>
            <z-m>-0.17086</z-m>
        </center>
  </animation>

  <animation>
      <type>rotate</type>
      <object-name>elevator</object-name>
      <object-name>elevator-plastic</object-name>
      <object-name>elevator-truss</object-name>
      <property>/controls/flight/elevator</property>
      <min-deg>-10</min-deg>
      <max-deg>10</max-deg>
      <factor>-10</factor>
      <center>
          <x-m> 6.42306</x-m>
          <y-m>-0.10806</y-m>
          <z-m> 0.6215 </z-m>
      </center>
      <axis>
          <x> 0</x>
          <y>-1</y>
          <z> 0</z>
      </axis>
  </animation>

  <animation>
  	<type>rotate</type>
  	<object-name>rudder</object-name>
    <object-name>rudder-truss</object-name>
    <object-name>rudder-plastic</object-name>
  	<property>/controls/flight/control-axis-type</property>
    <min-deg>-30</min-deg>
    <max-deg>30</max-deg>
    <factor>-30</factor>
    <axis>
        <x1-m> 5.41455</x1-m>
        <y1-m> 0.00629</y1-m>
        <z1-m> 2.78964</z1-m>
        <x2-m> 5.53802</x2-m>
        <y2-m>-0.00995</y2-m>
        <z2-m> 0.67256</z2-m>
    </axis>
  </animation>

  <animation>
    <type>rotate</type>
    <object-name>left-aileron</object-name>
    <object-name>left-aileron-plastic</object-name>
    <property>/controls/flight/aileron</property>
    <min-deg>-15</min-deg>
    <max-deg>15</max-deg>
    <factor>15</factor>
    <axis>
        <x1-m>  0.88348</x1-m>
        <y1-m>-10.80032</y1-m>
        <z1-m>  1.16352</z1-m>
        <x2-m>  1.0306 </x2-m>
        <y2-m> -6.26519</y2-m>
        <z2-m>  0.94267</z2-m>
    </axis>
  </animation>

  <animation>
  	<type>rotate</type>
  	<object-name>right-aileron</object-name>
    <object-name>right-aileron-plastic</object-name>
  	<property>/controls/flight/aileron</property>
  	<min-deg>-20</min-deg>
  	<max-deg>20</max-deg>
  	<factor>-20</factor>
  	<axis>
        <x1-m>  1.05844</x1-m>
        <y1-m>  6.26553</y1-m>
        <z1-m>  0.84702</z1-m>
        <x2-m>  0.93018</x2-m>
        <y2-m> 10.80542</y2-m>
        <z2-m>  0.99369</z2-m>
    </axis>
  </animation>

 </PropertyList>
